language: java

jdk:
  - oraclejdk8

branches:
  only:
    - feature-spring

addons:
  apt:
    packages:
      - libssl-dev
      - libffi-dev
      - build-essential
      
dist: trusty

install:
  - nvm install lts/*

script:
  - 'git clone $SDK_REPO'
  - './mvnw clean install -f azure-spring-cloud-sdk/resource-manager/v2019_05_01_preview/pom.xml'
  - './mvnw clean verify'
  - './mvnw cobertura:cobertura'

after_success:
  # test coverage reporting
  - bash <(curl -s https://codecov.io/bash)
